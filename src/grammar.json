{
  "name": "spork",
  "rules": {
    "game": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "game"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "name"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "SYMBOL",
          "name": "statements"
        },
        {
          "type": "STRING",
          "value": "]"
        }
      ]
    },
    "statements": {
      "type": "REPEAT1",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "header_statement"
          },
          {
            "type": "SYMBOL",
            "name": "is_statement"
          },
          {
            "type": "SYMBOL",
            "name": "trait_statement"
          },
          {
            "type": "SYMBOL",
            "name": "state_statement"
          },
          {
            "type": "SYMBOL",
            "name": "text"
          },
          {
            "type": "SYMBOL",
            "name": "enter_statement"
          },
          {
            "type": "SYMBOL",
            "name": "location"
          },
          {
            "type": "SYMBOL",
            "name": "object"
          }
        ]
      }
    },
    "header_statement": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "title_def"
        },
        {
          "type": "SYMBOL",
          "name": "author_def"
        },
        {
          "type": "SYMBOL",
          "name": "version_def"
        },
        {
          "type": "SYMBOL",
          "name": "date_def"
        }
      ]
    },
    "title_def": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "title"
        },
        {
          "type": "SYMBOL",
          "name": "text"
        }
      ]
    },
    "author_def": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "STRING",
              "value": "by"
            },
            {
              "type": "STRING",
              "value": "author"
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "text"
        }
      ]
    },
    "version_def": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "version"
        },
        {
          "type": "SYMBOL",
          "name": "float"
        }
      ]
    },
    "date_def": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "created"
        },
        {
          "type": "SYMBOL",
          "name": "text"
        }
      ]
    },
    "is_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "it"
                },
                {
                  "type": "STRING",
                  "value": "is"
                }
              ]
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "STRING",
                  "value": "they"
                },
                {
                  "type": "STRING",
                  "value": "are"
                }
              ]
            },
            {
              "type": "SEQ",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "name"
                },
                {
                  "type": "CHOICE",
                  "members": [
                    {
                      "type": "STRING",
                      "value": "is"
                    },
                    {
                      "type": "STRING",
                      "value": "are"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "SYMBOL",
          "name": "name"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "name"
              }
            ]
          }
        }
      ]
    },
    "trait_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "traits"
        },
        {
          "type": "SYMBOL",
          "name": "trait_list"
        }
      ]
    },
    "trait_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "trait_def"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "trait_def"
              }
            ]
          }
        }
      ]
    },
    "trait_def": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "name"
        },
        {
          "type": "STRING",
          "value": "|"
        },
        {
          "type": "SYMBOL",
          "name": "name"
        }
      ]
    },
    "state_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "states"
        },
        {
          "type": "SYMBOL",
          "name": "state_list"
        }
      ]
    },
    "state_list": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "state_def"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "state_def"
              }
            ]
          }
        }
      ]
    },
    "state_def": {
      "type": "SEQ",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "name"
            },
            {
              "type": "STRING",
              "value": "|"
            },
            {
              "type": "SYMBOL",
              "name": "name"
            }
          ]
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "|"
              },
              {
                "type": "SYMBOL",
                "name": "name"
              }
            ]
          }
        }
      ]
    },
    "enter_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "enter"
        },
        {
          "type": "SYMBOL",
          "name": "name"
        }
      ]
    },
    "location": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "location"
        },
        {
          "type": "SYMBOL",
          "name": "name"
        },
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "SYMBOL",
          "name": "location_statements"
        },
        {
          "type": "STRING",
          "value": "]"
        }
      ]
    },
    "location_statements": {
      "type": "REPEAT1",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "is_statement"
          },
          {
            "type": "SYMBOL",
            "name": "trait_statement"
          },
          {
            "type": "SYMBOL",
            "name": "state_statement"
          },
          {
            "type": "SYMBOL",
            "name": "text"
          },
          {
            "type": "SYMBOL",
            "name": "exit_statement"
          },
          {
            "type": "SYMBOL",
            "name": "object"
          }
        ]
      }
    },
    "exit_statement": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "exit"
            },
            {
              "type": "SYMBOL",
              "name": "exit_def"
            }
          ]
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "STRING",
              "value": "exits"
            },
            {
              "type": "SYMBOL",
              "name": "exit_def"
            },
            {
              "type": "REPEAT",
              "content": {
                "type": "SEQ",
                "members": [
                  {
                    "type": "STRING",
                    "value": ","
                  },
                  {
                    "type": "SYMBOL",
                    "name": "exit_def"
                  }
                ]
              }
            }
          ]
        }
      ]
    },
    "exit_def": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "exit"
        },
        {
          "type": "STRING",
          "value": "to"
        },
        {
          "type": "SYMBOL",
          "name": "name"
        }
      ]
    },
    "exit": {
      "type": "CHOICE",
      "members": [
        {
          "type": "STRING",
          "value": "north"
        },
        {
          "type": "STRING",
          "value": "south"
        },
        {
          "type": "STRING",
          "value": "east"
        },
        {
          "type": "STRING",
          "value": "west"
        },
        {
          "type": "STRING",
          "value": "up"
        },
        {
          "type": "STRING",
          "value": "down"
        }
      ]
    },
    "object": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "object"
        },
        {
          "type": "SYMBOL",
          "name": "name"
        },
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "SYMBOL",
          "name": "object_statements"
        },
        {
          "type": "STRING",
          "value": "]"
        }
      ]
    },
    "object_statements": {
      "type": "REPEAT1",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "is_statement"
          },
          {
            "type": "SYMBOL",
            "name": "trait_statement"
          },
          {
            "type": "SYMBOL",
            "name": "state_statement"
          },
          {
            "type": "SYMBOL",
            "name": "text"
          },
          {
            "type": "SYMBOL",
            "name": "on_statement"
          },
          {
            "type": "SYMBOL",
            "name": "object"
          }
        ]
      }
    },
    "on_statement": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "on"
        },
        {
          "type": "SYMBOL",
          "name": "name"
        },
        {
          "type": "STRING",
          "value": "["
        },
        {
          "type": "SYMBOL",
          "name": "on_statements"
        },
        {
          "type": "STRING",
          "value": "]"
        }
      ]
    },
    "on_statements": {
      "type": "REPEAT1",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "is_statement"
          },
          {
            "type": "SYMBOL",
            "name": "trait_statement"
          },
          {
            "type": "SYMBOL",
            "name": "state_statement"
          },
          {
            "type": "SYMBOL",
            "name": "text"
          }
        ]
      }
    },
    "text": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "{"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "CHOICE",
            "members": [
              {
                "type": "SYMBOL",
                "name": "words"
              },
              {
                "type": "SYMBOL",
                "name": "newline"
              },
              {
                "type": "SYMBOL",
                "name": "code"
              }
            ]
          }
        },
        {
          "type": "STRING",
          "value": "}"
        }
      ]
    },
    "words": {
      "type": "PATTERN",
      "value": "[^\\s{}]+"
    },
    "code": {
      "type": "SYMBOL",
      "name": "text"
    },
    "newline": {
      "type": "PATTERN",
      "value": "[\\r\\n][\\r\\n]"
    },
    "value": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "text"
        },
        {
          "type": "SYMBOL",
          "name": "int"
        },
        {
          "type": "SYMBOL",
          "name": "float"
        },
        {
          "type": "SYMBOL",
          "name": "name"
        }
      ]
    },
    "int": {
      "type": "PATTERN",
      "value": "[\\+\\-]?[0-9]+"
    },
    "float": {
      "type": "PATTERN",
      "value": "[\\+\\-]?[0-9]+\\.[0-9]+"
    },
    "name": {
      "type": "TOKEN",
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "PATTERN",
            "value": "[^\\x00-\\x1F\\s\\p{Zs}0-9:;`\"'@#.,|^&<=>+\\-*/\\\\%?!~()\\[\\]{}\\uFEFF\\u2060\\u200B]|\\\\u[0-9a-fA-F]{4}|\\\\u\\{[0-9a-fA-F]+\\}"
          },
          {
            "type": "REPEAT",
            "content": {
              "type": "PATTERN",
              "value": "[^\\x00-\\x1F\\s\\p{Zs}:;`\"'@#.,|^&<=>+*/\\\\%?!~()\\[\\]{}\\uFEFF\\u2060\\u200B]|\\\\u[0-9a-fA-F]{4}|\\\\u\\{[0-9a-fA-F]+\\}"
            }
          }
        ]
      }
    },
    "comment": {
      "type": "TOKEN",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "//"
              },
              {
                "type": "PATTERN",
                "value": ".*"
              }
            ]
          },
          {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "/*"
              },
              {
                "type": "PATTERN",
                "value": "[^*]*\\*+([^/*][^*]*\\*+)*"
              },
              {
                "type": "STRING",
                "value": "/"
              }
            ]
          }
        ]
      }
    }
  },
  "extras": [
    {
      "type": "SYMBOL",
      "name": "comment"
    },
    {
      "type": "PATTERN",
      "value": "[\\s\\p{Zs}\\uFEFF\\u2060\\u200B]"
    }
  ],
  "conflicts": [],
  "precedences": [],
  "externals": [],
  "inline": [],
  "supertypes": []
}

